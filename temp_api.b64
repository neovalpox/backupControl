import axios from 'axios';

const API_URL = import.meta.env.VITE_API_URL || '/api';

// Instance Axios configurée
const api = axios.create({
  baseURL: API_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// INTERCEPTEUR DE REQUÊTE - lit TOUJOURS le token depuis localStorage
// Cette approche garantit que le token est lu au moment de chaque requête
api.interceptors.request.use(
  (config) => {
    try {
      const stored = localStorage.getItem('backupcontrol-auth');
      if (stored) {
        const parsed = JSON.parse(stored);
        if (parsed.token) {
          config.headers.Authorization = `Bearer ${parsed.token}`;
        }
      }
    } catch (e) {
      console.error('Error reading token for request:', e);
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// Intercepteur de réponse pour gérer les erreurs 401
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // Vérifier si on avait un token (pour éviter la boucle sur la page login)
      const stored = localStorage.getItem('backupcontrol-auth');
      if (stored && !window.location.pathname.includes('/login')) {
        console.log('401 received with stored token - clearing and redirecting');
        localStorage.removeItem('backupcontrol-auth');
        window.location.href = '/login';
      }
    }
    return Promise.reject(error);
  }
);

// Fonctions utilitaires pour gérer le token (utilisées depuis Login)
export const setApiToken = (token: string | null) => {
  // Cette fonction n'est plus nécessaire car l'intercepteur lit directement localStorage
  // Mais on la garde pour compatibilité - elle ne fait rien
  console.log('setApiToken called (no-op, interceptor reads from localStorage)');
};

export const getApiToken = (): string | null => {
  try {
    const stored = localStorage.getItem('backupcontrol-auth');
    if (stored) {
      const parsed = JSON.parse(stored);
      return parsed.token || null;
    }
  } catch (e) {
    console.error('Error reading token:', e);
  }
  return null;
};

// Auth API
export const authApi = {
  login: async (email: string, password: string) => {
    // Le backend attend du JSON avec email/password
    const response = await api.post('/auth/login', {
      email,
      password
    });
    return response.data;
  },

  logout: async () => {
    const response = await api.post('/auth/logout');
    return response.data;
  },

  getCurrentUser: async () => {
    const response = await api.get('/auth/me');
    return response.data;
  },
};

// Dashboard API
export const dashboardApi = {
  getSummary: async () => {
    const response = await api.get('/dashboard/summary');
    return response.data;
  },

  getAlerts: async (limit = 5) => {
    const response = await api.get(`/dashboard/alerts?limit=${limit}`);
    return response.data;
  },

  getRecentEvents: async (limit = 10) => {
    const response = await api.get(`/dashboard/recent-events?limit=${limit}`);
    return response.data;
  },
};

// Clients API
export const clientsApi = {
  getAll: async () => {
    const response = await api.get('/clients/');
    return response.data;
  },

  getById: async (id: number) => {
    const response = await api.get(`/clients/${id}`);
    return response.data;
  },

  create: async (data: any) => {
    const response = await api.post('/clients/', data);
    return response.data;
  },

  update: async (id: number, data: any) => {
    const response = await api.put(`/clients/${id}`, data);
    return response.data;
  },

  delete: async (id: number) => {
    const response = await api.delete(`/clients/${id}`);
    return response.data;
  },

  getBackups: async (id: number) => {
    const response = await api.get(`/clients/${id}/backups`);
    return response.data;
  },
};

// Backup types
export interface Backup {
  id: number;
  name: string;
  backup_type: string;
  source_nas?: string;
  source_device?: string;
  destination?: string;
  destination_nas?: string;
  expected_schedule?: string;
  expected_hour?: number;
  email_patterns: string[];
  notes?: string;
  client_id: number;
  client_name: string;
  current_status: string;
  last_success_at?: string;
  last_failure_at?: string;
  last_event_at?: string;
  total_success_count: number;
  total_failure_count: number;
  last_size_bytes?: number;
  last_duration_seconds?: number;
  is_active: boolean;
  is_maintenance: boolean;
  maintenance_until?: string;
  maintenance_reason?: string;
  created_at: string;
}

export interface BackupEvent {
  id: number;
  event_type: string;
  event_date: string;
  duration_seconds?: number;
  transferred_size_bytes?: number;
  error_message?: string;
}

// Backups API
export const backupsApi = {
  getAll: async (params?: any): Promise<Backup[]> => {
    const response = await api.get('/backups/', { params });
    return response.data;
  },

  getById: async (id: number): Promise<Backup> => {
    const response = await api.get(`/backups/${id}`);
    return response.data;
  },

  create: async (data: any): Promise<Backup> => {
    const response = await api.post('/backups/', data);
    return response.data;
  },

  update: async (id: number, data: any): Promise<Backup> => {
    const response = await api.put(`/backups/${id}`, data);
    return response.data;
  },

  delete: async (id: number) => {
    const response = await api.delete(`/backups/${id}`);
    return response.data;
  },

  getEvents: async (id: number, limit = 50): Promise<BackupEvent[]> => {
    const response = await api.get(`/backups/${id}/events?limit=${limit}`);
    return response.data;
  },

  setMaintenance: async (id: number, enabled: boolean, reason?: string) => {
    const response = await api.put(`/backups/${id}/maintenance`, { 
      is_maintenance: enabled,
      maintenance_reason: reason 
    });
    return response.data;
  },

  getStats: async () => {
    const response = await api.get('/backups/stats');
    return response.data;
  },

  exportCsv: async (params?: any) => {
    const response = await api.get('/backups/export', { 
      params,
      responseType: 'blob' 
    });
    return response.data;
  },
};

// Types
export interface Alert {
  id: number;
  alert_type: string;
  severity: string;
  title: string;
  message?: string;
  client_id?: number;
  client_name?: string;
  backup_id?: number;
  backup_name?: string;
  is_acknowledged: boolean;
  is_resolved: boolean;
  created_at?: string;
  resolved_at?: string;
}

// Alerts API
export const alertsApi = {
  getAll: async (params?: any) => {
    const response = await api.get('/alerts', { params });
    return response.data;
  },

  getById: async (id: number) => {
    const response = await api.get(`/alerts/${id}`);
    return response.data;
  },

  getCount: async () => {
    const response = await api.get('/alerts/count');
    return response.data;
  },

  getSummary: async () => {
    const response = await api.get('/alerts/summary');
    return response.data;
  },

  acknowledge: async (id: number) => {
    const response = await api.put(`/alerts/${id}/acknowledge`);
    return response.data;
  },

  resolve: async (id: number) => {
    const response = await api.put(`/alerts/${id}/resolve`);
    return response.data;
  },

  batchResolve: async (ids: number[]) => {
    const response = await api.put('/alerts/batch/resolve', ids);
    return response.data;
  },

  delete: async (id: number) => {
    const response = await api.delete(`/alerts/${id}`);
    return response.data;
  },

  generateFromBackups: async () => {
    const response = await api.post('/alerts/generate-from-backups');
    return response.data;
  },
};

// Emails API
export const emailsApi = {
  // Liste tous les emails
  getAll: async () => {
    const response = await api.get('/emails/');
    return response.data;
  },

  // Détail d'un email
  getById: async (id: number) => {
    const response = await api.get(`/emails/${id}`);
    return response.data;
  },

  // Récupérer les nouveaux emails
  fetchNew: async () => {
    const response = await api.post('/emails/fetch');
    return response.data;
  },

  // Analyser tous les emails non analysés
  analyzeAll: async () => {
    const response = await api.post('/emails/analyze');
    return response.data;
  },

  getSettings: async () => {
    const response = await api.get('/email/settings');
    return response.data;
  },

  updateSettings: async (data: any) => {
    const response = await api.put('/email/settings', data);
    return response.data;
  },

  testConnection: async () => {
    const response = await api.post('/emails/test-connection');
    return response.data;
  },

  testSmtp: async () => {
    const response = await api.post('/emails/test-smtp');
    return response.data;
  },

  testTelegram: async () => {
    const response = await api.post('/emails/test-telegram');
    return response.data;
  },

  testDiscord: async () => {
    const response = await api.post('/emails/test-discord');
    return response.data;
  },

  testSlack: async () => {
    const response = await api.post('/emails/test-slack');
    return response.data;
  },

  testTeams: async () => {
    const response = await api.post('/emails/test-teams');
    return response.data;
  },

  // Nouvelle fonction: Recuperer et analyser les emails
  fetchAndAnalyze: async (limit: number = 500, analyze: boolean = true) => {
    const response = await api.post('/emails/fetch-and-analyze', {
      limit,
      folder: 'INBOX',
      analyze
    }, {
      timeout: 600000 // 10 minutes timeout pour l'analyse de 500 emails
    });
    return response.data;
  },

  // Progression de l'analyse
  getAnalysisProgress: async () => {
    const response = await api.get('/emails/analysis/progress');
    return response.data;
  },

  // Resume des sauvegardes
  getBackupSummary: async (days: number = 30) => {
    const response = await api.get(`/emails/backup-summary?days=${days}`);
    return response.data;
  },

  // Liste des emails analyses (nouvelle API v2)
  getAnalyzedEmails: async (backupOnly: boolean = false, limit: number = 200, offset: number = 0) => {
    const response = await api.get('/emails/analyzed', { 
      params: { backup_only: backupOnly, limit, offset }
    });
    return response.data;
  },

  // Detail d'un email analyse
  getAnalyzedEmailDetail: async (emailId: number) => {
    const response = await api.get(`/emails/analyzed/${emailId}`);
    return response.data;
  },

  getTemplates: async () => {
    const response = await api.get('/email/templates');
    return response.data;
  },

  getTemplate: async (id: number) => {
    const response = await api.get(`/email/templates/${id}`);
    return response.data;
  },

  updateTemplate: async (id: number, data: any) => {
    const response = await api.put(`/email/templates/${id}`, data);
    return response.data;
  },
};

// Settings API
export const settingsApi = {
  getAll: async () => {
    const response = await api.get('/settings/');
    return response.data;
  },

  update: async (key: string, value: any) => {
    const response = await api.put(`/settings/${key}`, { value: String(value) });
    return response.data;
  },

  updateBatch: async (settings: Record<string, any>) => {
    const response = await api.post('/settings/batch', settings);
    return response.data;
  },

  initialize: async () => {
    const response = await api.post('/settings/initialize');
    return response.data;
  },

  getRetentionPolicies: async () => {
    const response = await api.get('/settings/retention-policies');
    return response.data;
  },

  updateRetentionPolicy: async (id: number, data: any) => {
    const response = await api.put(`/settings/retention-policies/${id}`, data);
    return response.data;
  },
};

// Users API
export const usersApi = {
  getAll: async () => {
    const response = await api.get('/users/');
    return response.data;
  },

  getById: async (id: number) => {
    const response = await api.get(`/users/${id}`);
    return response.data;
  },

  create: async (data: any) => {
    const response = await api.post('/users/', data);
    return response.data;
  },

  update: async (id: number, data: any) => {
    const response = await api.put(`/users/${id}`, data);
    return response.data;
  },

  delete: async (id: number) => {
    const response = await api.delete(`/users/${id}`);
    return response.data;
  },

  changePassword: async (id: number, data: { current_password: string; new_password: string }) => {
    const response = await api.put(`/users/${id}/password`, data);
    return response.data;
  },
};

// Notifications API
export const notificationsApi = {
  test: async (channel: string) => {
    const response = await api.post(`/notifications/test/${channel}`);
    return response.data;
  },

  sendReport: async () => {
    const response = await api.post('/notifications/report');
    return response.data;
  },
};

export default api;
